#include <behaviors.dtsi>
#include <dt-bindings/zmk/keys.h>
#include <dt-bindings/zmk/bt.h>
#include <dt-bindings/zmk/mouse.h> 

/ {
    keymap {
        compatible = "zmk,keymap";

        // -------------------------
        // Layer 0~3 : ë§ˆìš°ìŠ¤ ëª¨ë“œ
        // -------------------------
        default_layer {
            bindings = <
                &mkp LCLK    &mkp RCLK    // í’‹ìŠ¤ìœ„ì¹˜1,2
                &tog_mouse              // ëª¨ë“œ ì „í™˜ (í‘¸ì‹œë½)
                &next_mouse             // ë ˆì´ì–´ ìˆœí™˜ (í‘¸ì‹œì˜¨)
            >;
        };

        layer1 {
            bindings = <
                &mkp RCLK    &mkp LCLK
                &tog_mouse
                &next_mouse
            >;
        };

        layer2 {
            bindings = <
                &mkp MCLK    &mkp LCLK
                &tog_mouse
                &next_mouse
            >;
        };

        layer3 {
            bindings = <
                &mkp LCLK    &mkp MCLK
                &tog_mouse
                &next_mouse
            >;
        };

        // -------------------------
        // Layer 10~13 : í‚¤ë³´ë“œ ëª¨ë“œ
        // -------------------------
        layer10 {
            bindings = <
                &kp A  &kp D
                &tog_kb
                &next_kb
            >;
        };

        layer11 {
            bindings = <
                &kp Q  &kp W
                &tog_kb
                &next_kb
            >;
        };

        layer12 {
            bindings = <
                &kp T  &kp Y
                &tog_kb
                &next_kb
            >;
        };

        layer13 {
            bindings = <
                &kp Z  &kp X
                &tog_kb
                &next_kb
            >;
        };
    };
};

// -----------------------------
// ì»¤ìŠ¤í…€ ë¹„í—¤ì´ë¹„ì–´ ì •ì˜
// -----------------------------
/ {
    behaviors {
        // ğŸ”¹ ëª¨ë“œ ì „í™˜ (í‘¸ì‹œë½ ìŠ¤ìœ„ì¹˜)
        tog_mouse: tog_mouse {
            compatible = "zmk,behavior-mod-morph";
            label = "TOGGLE_MOUSE_KEYBOARD";
            #binding-cells = <0>;
            bindings = <&to 0>, <&to 10>;   // ë§ˆìš°ìŠ¤ 0 â†” í‚¤ë³´ë“œ 10
        };

        // ğŸ”¹ ë ˆì´ì–´ ìˆœí™˜ (í‘¸ì‹œì˜¨ ìŠ¤ìœ„ì¹˜, ë§ˆìš°ìŠ¤ ì „ìš©)
        next_mouse: next_mouse {
            compatible = "zmk,behavior-tap-dance";
            label = "NEXT_MOUSE_LAYER";
            #binding-cells = <0>;
            bindings = <&mo 1>, <&mo 2>, <&mo 3>, <&mo 0>;
        };

        // ğŸ”¹ ë ˆì´ì–´ ìˆœí™˜ (í‘¸ì‹œì˜¨ ìŠ¤ìœ„ì¹˜, í‚¤ë³´ë“œ ì „ìš©)
        next_kb: next_kb {
            compatible = "zmk,behavior-tap-dance";
            label = "NEXT_KEYBOARD_LAYER";
            #binding-cells = <0>;
            bindings = <&mo 11>, <&mo 12>, <&mo 13>, <&mo 10>;
        };
    };
};
